<html lang="en" 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	
	
	<ui:composition template="../template.xhtml">
	
		<ui:define name="conteudo">
			<form jsf:id="formCliente" method="POST" enctype="multipart/form-data">
				<h2>Cadastro de Clientes</h2>
				<div class="form-group">
					<label for="id">ID</label> 
					<input
						type="text" class="form-control" 
						jsf:id="id"
						jsf:value="#{mbeanCliente.id}"
						readonly="readonly"/>
				</div>
				<div class="form-group">
					<label for="foto">Foto</label> 
					<input
						type="file" class="form-control" 
						jsf:id="foto"
						jsf:value="#{mbeanCliente.foto}"/>
						
				</div>
				<div class="form-group">
					<label for="pefil">Perfil</label>
					<h:selectOneMenu id="perfil"
						value="#{mbeanCliente.idPerfil}"
						class="form-control">
						<f:selectItems value="#{mbeanCliente.perfis}" 
							var="perfil"
							itemValue="#{perfil.id}" 
							itemLabel="#{perfil.nome}"></f:selectItems>
					</h:selectOneMenu>
				</div>
				
				<div class="form-group">
					<label for="nome">Nome</label> 
					<input
						type="text" class="form-control" 
						jsf:id="nome"
						jsf:value="#{mbeanCliente.nome}"
						placeholder="Digite seu nome"/>
				</div>
				<div class="form-group">
					<label for="login">Login</label> 
					<input
						type="text" class="form-control" 
						jsf:id="login"
						jsf:value="#{mbeanCliente.login}"
						placeholder="Digite seu login"/>
				</div>		
				<input type="submit" 
					jsf:id="btnSalvar"
					jsf:action="#{mbeanCliente.salvar}" 
					value="Salvar" 
					class="btn btn-primary"/>
			</form>
				<br/>
				<form jsf:id="formClienteTable">
				<table class="table table-hover">
					<thead>
						<tr>
							<th scope="col">#</th>
							<th scope="col">Nome</th>
							<th scope="col">Login</th>					
							<th scope="col"> </th>
							<th scope="col"> </th>
						</tr>
					</thead>
					<tbody>
						<ui:repeat value="#{mbeanCliente.clientes}" var="cliente">
						<tr>
							<td><h:outputText value="#{cliente.id}"></h:outputText></td>
							<td><h:outputText value="#{cliente.nome}"></h:outputText></td>
							<td><h:outputText value="#{cliente.login}"></h:outputText></td>
							<td>
							<h:commandLink 
								styleClass="btn btn-info" 
								action="#{mbeanCliente.carregar(cliente)}" 
								value="Editar" />							
							</td>					
							<td>
								<h:commandLink 
								styleClass="btn btn-danger" 
								action="#{mbeanCliente.excluir(cliente)}" 
								value="Excluir" />						
							</td>
						</tr>
						</ui:repeat>			
					</tbody>
				</table>
				</form>

		</ui:define>
	
	</ui:composition>

</html>